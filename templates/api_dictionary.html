{% extends "base.html" %}

{% block title %}Dictionary API - Definitions & Meanings{% endblock %}

{% block content %}
<div class="dict-page-mega">
    <div class="dict-hero">
        <a href="/api-explorer" class="dict-back-btn">‚¨ÖÔ∏è All APIs</a>
        
        <div class="dict-mascot">üìñ</div>
        <h1 class="dict-title-mega">FREE DICTIONARY API</h1>
        <p class="dict-subtitle">Definitions, Phonetics, Examples & More! üìö</p>
    </div>

    <div class="dict-search-section">
        <h2 class="dict-search-title">üîç Look Up Any Word!</h2>
        <div class="dict-search-box">
            <input type="text" id="dict-search" placeholder="Enter word..." value="magnificent" class="dict-input-mega">
            <button onclick="lookupWord()" class="dict-search-btn">Define It!</button>
        </div>
        
        <div id="dict-results" class="dict-results-container"></div>
    </div>

    <div class="dict-quick-section">
        <h2 class="dict-quick-title">‚ö° Try These Words!</h2>
        <div class="quick-words-grid">
            <button class="quick-word-btn" onclick="quickLookup('serendipity')">‚ú® Serendipity</button>
            <button class="quick-word-btn" onclick="quickLookup('ephemeral')">‚è≥ Ephemeral</button>
            <button class="quick-word-btn" onclick="quickLookup('luminous')">üí° Luminous</button>
            <button class="quick-word-btn" onclick="quickLookup('resilient')">üí™ Resilient</button>
            <button class="quick-word-btn" onclick="quickLookup('eloquent')">üó£Ô∏è Eloquent</button>
            <button class="quick-word-btn" onclick="quickLookup('benevolent')">‚ù§Ô∏è Benevolent</button>
        </div>
    </div>
</div>

<script>
async function lookupWord() {
    const word = document.getElementById('dict-search').value.trim();
    if (!word) return;
    
    const container = document.getElementById('dict-results');
    container.innerHTML = '<div class="loading-dict">üìñ Looking up word...</div>';
    
    try {
        const response = await fetch(`https://api.dictionaryapi.dev/api/v2/entries/en/${word}`);
        const data = await response.json();
        
        if (data && data.length > 0) {
            const entry = data[0];
            const meanings = entry.meanings || [];
            
            container.innerHTML = `
                <div class="dict-result-mega">
                    <div class="dict-word-header">
                        <h2 class="dict-word-title">${entry.word}</h2>
                        ${entry.phonetic ? `<div class="dict-phonetic">üîä ${entry.phonetic}</div>` : ''}
                    </div>
                    
                    ${meanings.map((meaning, i) => `
                        <div class="dict-meaning-section">
                            <h3 class="part-of-speech">${meaning.partOfSpeech}</h3>
                            
                            ${meaning.definitions ? `
                                <div class="definitions-list">
                                    ${meaning.definitions.slice(0, 3).map((def, j) => `
                                        <div class="definition-card">
                                            <div class="def-number">${j + 1}</div>
                                            <div class="def-content">
                                                <p class="def-text">${def.definition}</p>
                                                ${def.example ? `<p class="def-example">üí¨ Example: "${def.example}"</p>` : ''}
                                            </div>
                                        </div>
                                    `).join('')}
                                </div>
                            ` : ''}
                            
                            ${meaning.synonyms && meaning.synonyms.length > 0 ? `
                                <div class="synonyms-section">
                                    <strong>üìù Synonyms:</strong>
                                    <div class="synonym-tags">
                                        ${meaning.synonyms.slice(0, 8).map(syn => `<span class="syn-tag">${syn}</span>`).join('')}
                                    </div>
                                </div>
                            ` : ''}
                        </div>
                    `).join('')}
                </div>
            `;
        } else {
            container.innerHTML = '<div class="no-results-dict">Word not found. Try another!</div>';
        }
    } catch (error) {
        container.innerHTML = '<div class="error-dict">Error loading definition!</div>';
    }
}

function quickLookup(word) {
    document.getElementById('dict-search').value = word;
    lookupWord();
}

// Enter key
document.getElementById('dict-search').addEventListener('keypress', function(e) {
    if (e.key === 'Enter') lookupWord();
});

// Auto-load example
document.addEventListener('DOMContentLoaded', function() {
    setTimeout(lookupWord, 500);
});
</script>

<style>
.dict-page-mega {
    min-height: 100vh;
    background: linear-gradient(135deg, #ffeaa7 0%, #fdcb6e 50%, #ffeaa7 100%);
}

.dict-hero {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    padding: 4rem 2rem;
    text-align: center;
    border-radius: 0 0 70px 70px;
    margin-bottom: 4rem;
}

.dict-mascot {
    font-size: 14rem;
    animation: bounce 2s ease-in-out infinite;
}

.dict-title-mega {
    font-family: 'Fredoka One', cursive;
    font-size: 5.5rem;
    color: white;
    text-shadow: 6px 6px 20px rgba(0,0,0,0.5);
    margin: 2rem 0;
}

.dict-search-section {
    max-width: 1200px;
    margin: 0 auto 4rem;
    padding: 0 2rem;
}

.dict-search-title {
    font-family: 'Fredoka One', cursive;
    font-size: 4rem;
    text-align: center;
    color: #333;
    margin-bottom: 2.5rem;
}

.dict-search-box {
    display: flex;
    gap: 1.5rem;
    margin-bottom: 3rem;
}

.dict-input-mega {
    flex: 1;
    padding: 2rem 2.5rem;
    border: 6px solid #667eea;
    border-radius: 50px;
    font-size: 1.8rem;
    outline: none;
    font-weight: bold;
}

.dict-search-btn {
    background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
    border: none;
    color: white;
    padding: 2rem 4rem;
    border-radius: 50px;
    font-size: 2rem;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s ease;
}

.dict-search-btn:hover {
    transform: scale(1.1);
}

.dict-result-mega {
    background: white;
    border-radius: 35px;
    padding: 3rem;
    box-shadow: 0 15px 50px rgba(0,0,0,0.15);
    border: 6px solid #4ecdc4;
}

.dict-word-header {
    text-align: center;
    margin-bottom: 3rem;
    padding-bottom: 2rem;
    border-bottom: 4px solid #f0f0f0;
}

.dict-word-title {
    font-family: 'Fredoka One', cursive;
    font-size: 4rem;
    color: #333;
    margin-bottom: 1rem;
}

.dict-phonetic {
    font-size: 1.8rem;
    color: #666;
    font-weight: bold;
}

.dict-meaning-section {
    margin-bottom: 3rem;
}

.part-of-speech {
    font-size: 2rem;
    color: #667eea;
    background: rgba(102,126,234,0.1);
    padding: 0.8rem 1.5rem;
    border-radius: 20px;
    display: inline-block;
    margin-bottom: 1.5rem;
}

.definitions-list {
    margin: 2rem 0;
}

.definition-card {
    display: flex;
    gap: 1.5rem;
    background: rgba(78,205,196,0.1);
    padding: 1.5rem;
    border-radius: 20px;
    margin-bottom: 1.5rem;
    border-left: 5px solid #4ecdc4;
}

.def-number {
    background: #4ecdc4;
    color: white;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
    font-weight: bold;
    flex-shrink: 0;
}

.def-text {
    font-size: 1.4rem;
    line-height: 1.8;
    color: #333;
    margin-bottom: 1rem;
}

.def-example {
    font-size: 1.2rem;
    color: #666;
    font-style: italic;
    margin-top: 0.8rem;
}

.synonyms-section {
    margin-top: 2rem;
    font-size: 1.3rem;
}

.synonym-tags {
    display: flex;
    flex-wrap: wrap;
    gap: 0.8rem;
    margin-top: 1rem;
}

.syn-tag {
    background: linear-gradient(135deg, #a8edea, #fed6e3);
    padding: 0.6rem 1.2rem;
    border-radius: 20px;
    font-weight: bold;
    border: 2px solid white;
}

.quick-words-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1.5rem;
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 2rem;
}

.quick-word-btn {
    background: linear-gradient(135deg, #a8edea, #fed6e3);
    border: none;
    padding: 1.5rem;
    border-radius: 25px;
    font-size: 1.4rem;
    font-weight: bold;
    cursor: pointer;
    border: 4px solid white;
    transition: all 0.3s ease;
}

.quick-word-btn:hover {
    transform: translateY(-10px);
}
</style>
{% endblock %}

