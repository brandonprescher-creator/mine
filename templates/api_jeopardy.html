{% extends "base.html" %}

{% block title %}JService - Jeopardy Questions{% endblock %}

{% block content %}
<div class="jeopardy-page-mega">
    <div class="jeopardy-hero">
        <a href="/api-explorer" class="jeopardy-back-btn">‚¨ÖÔ∏è All APIs</a>
        
        <div class="jeopardy-mascot">üé≠</div>
        <h1 class="jeopardy-title-mega">JSERVICE API</h1>
        <p class="jeopardy-subtitle">Real Jeopardy! Questions! üèÜ</p>
    </div>

    <div class="jeopardy-section">
        <h2 class="jeopardy-section-title">üé≠ Play Jeopardy!</h2>
        <button onclick="loadJeopardyQuestions()" class="jeopardy-load-btn">
            <span class="jeop-emoji">üé≠</span>
            <span>GET RANDOM QUESTIONS!</span>
            <span class="jeop-emoji">üé≠</span>
        </button>
        
        <div id="jeopardy-results" class="jeopardy-results-container"></div>
    </div>
</div>

<script>
async function loadJeopardyQuestions() {
    const container = document.getElementById('jeopardy-results');
    container.innerHTML = '<div class="loading-jeop">üé≠ Loading Jeopardy questions...</div>';
    
    try {
        const response = await fetch('https://jservice.io/api/random?count=10');
        const questions = await response.json();
        
        if (questions && questions.length > 0) {
            container.innerHTML = `
                <div class="jeopardy-grid">
                    ${questions.map((q, i) => `
                        <div class="jeopardy-card" id="jeop-card-${i}">
                            <div class="jeop-category">${q.category?.title || 'General'}</div>
                            <div class="jeop-value">$${q.value || 200}</div>
                            <div class="jeop-question">${q.question}</div>
                            <button class="jeop-reveal-btn" onclick="revealAnswer(${i}, '${(q.answer || 'Unknown').replace(/'/g, "\\'")}')">
                                Show Answer
                            </button>
                            <div id="jeop-answer-${i}" class="jeop-answer hidden"></div>
                        </div>
                    `).join('')}
                </div>
            `;
        } else {
            container.innerHTML = '<div class="no-results-jeop">No questions found!</div>';
        }
    } catch (e) {
        container.innerHTML = '<div class="error-jeop">Error loading questions!</div>';
    }
}

function revealAnswer(index, answer) {
    const answerDiv = document.getElementById(`jeop-answer-${index}`);
    answerDiv.textContent = `Answer: ${answer}`;
    answerDiv.classList.remove('hidden');
    answerDiv.classList.add('revealed');
}

document.addEventListener('DOMContentLoaded', () => setTimeout(loadJeopardyQuestions, 500));
</script>

<style>
.jeopardy-page-mega { min-height: 100vh; background: linear-gradient(135deg, #0f2027 0%, #203a43 50%, #2c5364 100%); color: white; }
.jeopardy-hero { background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%); padding: 4rem 2rem; text-align: center; border-radius: 0 0 70px 70px; margin-bottom: 4rem; }
.jeopardy-mascot { font-size: 14rem; animation: bounce 2s ease-in-out infinite; }
.jeopardy-title-mega { font-family: 'Fredoka One', cursive; font-size: 6rem; color: white; text-shadow: 6px 6px 20px rgba(0,0,0,0.5); margin: 2rem 0; }
.jeopardy-section { max-width: 1400px; margin: 0 auto; padding: 2rem; }
.jeopardy-section-title { font-family: 'Fredoka One', cursive; font-size: 4rem; text-align: center; margin-bottom: 3rem; }
.jeopardy-load-btn { background: linear-gradient(45deg, #1e3c72, #2a5298); border: 4px solid #ffd700; color: white; padding: 2.5rem 5rem; border-radius: 60px; font-size: 2.5rem; font-weight: bold; cursor: pointer; display: flex; align-items: center; gap: 2rem; margin: 0 auto 3rem; transition: all 0.3s ease; }
.jeopardy-load-btn:hover { transform: scale(1.1); box-shadow: 0 0 30px #ffd700; }
.jeop-emoji { font-size: 3rem; }
.jeopardy-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 2.5rem; }
.jeopardy-card { background: linear-gradient(135deg, #1e3c72, #2a5298); border-radius: 25px; padding: 2.5rem; border: 5px solid #ffd700; box-shadow: 0 10px 35px rgba(0,0,0,0.3); }
.jeop-category { background: #ffd700; color: #1e3c72; padding: 0.8rem 1.5rem; border-radius: 20px; font-weight: bold; font-size: 1.3rem; margin-bottom: 1.5rem; text-align: center; }
.jeop-value { font-family: 'Fredoka One', cursive; font-size: 3rem; color: #ffd700; text-align: center; margin-bottom: 1.5rem; }
.jeop-question { font-size: 1.5rem; line-height: 1.8; margin-bottom: 2rem; min-height: 100px; }
.jeop-reveal-btn { background: #ffd700; color: #1e3c72; border: none; padding: 1.2rem 2.5rem; border-radius: 30px; font-size: 1.3rem; font-weight: bold; cursor: pointer; width: 100%; transition: all 0.3s ease; }
.jeop-reveal-btn:hover { transform: scale(1.05); }
.jeop-answer { margin-top: 1.5rem; padding: 1.5rem; background: rgba(255,215,0,0.2); border-radius: 20px; font-size: 1.4rem; font-weight: bold; color: #ffd700; border-left: 5px solid #ffd700; }
.jeop-answer.hidden { display: none; }
.jeop-answer.revealed { animation: fadeIn 0.5s ease; }
@keyframes fadeIn { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }
</style>
{% endblock %}

