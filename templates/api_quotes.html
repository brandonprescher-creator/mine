{% extends "base.html" %}

{% block title %}Quotable API - Inspirational Quotes{% endblock %}

{% block content %}
<div class="quotes-page-mega">
    <div class="quotes-hero">
        <a href="/api-explorer" class="quotes-back-btn">‚¨ÖÔ∏è All APIs</a>
        
        <div class="quotes-mascot">üí¨</div>
        <h1 class="quotes-title-mega">QUOTABLE API</h1>
        <p class="quotes-subtitle">Inspiring Quotes from Great Minds! ‚ú®</p>
    </div>

    <div class="quotes-section">
        <h2 class="quotes-section-title">üí¨ Get Quotes!</h2>
        
        <button onclick="getRandomQuote()" class="quote-btn-mega">
            <span class="quote-emoji">‚ú®</span>
            <span>GET RANDOM QUOTE!</span>
            <span class="quote-emoji">‚ú®</span>
        </button>
        
        <div id="quote-display" class="quote-display-container"></div>
        
        <div class="quotes-collection" id="quotes-collection"></div>
    </div>
</div>

<script>
async function getRandomQuote() {
    const container = document.getElementById('quote-display');
    container.innerHTML = '<div class="loading-quote">üí¨ Loading quote...</div>';
    
    try {
        const response = await fetch('https://api.quotable.io/random');
        const quote = await response.json();
        
        container.innerHTML = `
            <div class="quote-card-mega">
                <div class="quote-mark">"</div>
                <p class="quote-text">${quote.content}</p>
                <p class="quote-author">‚Äî ${quote.author}</p>
                ${quote.tags && quote.tags.length > 0 ? `
                    <div class="quote-tags">
                        ${quote.tags.map(tag => `<span class="quote-tag">${tag}</span>`).join('')}
                    </div>
                ` : ''}
            </div>
        `;
        
        createQuoteParticles();
    } catch (e) {
        container.innerHTML = '<div class="error-quote">Error loading quote!</div>';
    }
}

async function loadQuotesCollection() {
    const container = document.getElementById('quotes-collection');
    container.innerHTML = '<div class="loading-quote">Loading collection...</div>';
    
    try {
        const response = await fetch('https://api.quotable.io/quotes?limit=6');
        const data = await response.json();
        
        if (data.results && data.results.length > 0) {
            container.innerHTML = `
                <h3 class="collection-title">üìö Quote Collection</h3>
                <div class="quotes-grid">
                    ${data.results.map(quote => `
                        <div class="quote-mini-card">
                            <p class="quote-mini-text">"${quote.content}"</p>
                            <p class="quote-mini-author">‚Äî ${quote.author}</p>
                        </div>
                    `).join('')}
                </div>
            `;
        }
    } catch (e) {}
}

function createQuoteParticles() {
    const emojis = ['‚ú®', 'üí´', '‚≠ê', 'üåü'];
    for (let i = 0; i < 30; i++) {
        const particle = document.createElement('div');
        particle.textContent = emojis[Math.floor(Math.random() * emojis.length)];
        particle.style.cssText = `position: fixed; font-size: 2rem; pointer-events: none; z-index: 9999; left: ${Math.random() * 100}%; top: ${Math.random() * 100}%; animation: floatUp 2s ease-out forwards;`;
        document.body.appendChild(particle);
        setTimeout(() => particle.remove(), 2000);
    }
}

document.addEventListener('DOMContentLoaded', function() {
    setTimeout(getRandomQuote, 500);
    setTimeout(loadQuotesCollection, 1000);
});
</script>

<style>
.quotes-page-mega { min-height: 100vh; background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%); }
.quotes-hero { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 4rem 2rem; text-align: center; border-radius: 0 0 70px 70px; margin-bottom: 4rem; }
.quotes-mascot { font-size: 14rem; animation: bounce 2s ease-in-out infinite; }
.quotes-title-mega { font-family: 'Fredoka One', cursive; font-size: 6rem; color: white; text-shadow: 6px 6px 20px rgba(0,0,0,0.5); margin: 2rem 0; }
.quotes-section { max-width: 1200px; margin: 0 auto; padding: 2rem; }
.quotes-section-title { font-family: 'Fredoka One', cursive; font-size: 4rem; text-align: center; color: #333; margin-bottom: 3rem; }
.quote-btn-mega { background: linear-gradient(45deg, #ff6b6b, #feca57, #4ecdc4); background-size: 200%; animation: rainbowShift 3s ease infinite; border: none; color: white; padding: 2.5rem 5rem; border-radius: 60px; font-size: 2.5rem; font-weight: bold; cursor: pointer; display: flex; align-items: center; gap: 2rem; margin: 0 auto 3rem; transition: all 0.3s ease; }
.quote-btn-mega:hover { transform: scale(1.1); }
.quote-emoji { font-size: 3rem; }
.quote-display-container { margin-bottom: 4rem; }
.quote-card-mega { background: white; border-radius: 35px; padding: 4rem; box-shadow: 0 20px 60px rgba(0,0,0,0.2); border: 6px solid #4ecdc4; position: relative; }
.quote-mark { font-family: Georgia, serif; font-size: 8rem; color: rgba(102,126,234,0.2); position: absolute; top: 1rem; left: 2rem; }
.quote-text { font-size: 2.5rem; line-height: 1.8; color: #333; font-style: italic; margin: 2rem 0; text-align: center; }
.quote-author { font-size: 2rem; color: #667eea; font-weight: bold; text-align: right; margin-top: 2rem; }
.quote-tags { display: flex; flex-wrap: wrap; gap: 1rem; justify-content: center; margin-top: 2rem; }
.quote-tag { background: linear-gradient(135deg, #a8edea, #fed6e3); padding: 0.6rem 1.2rem; border-radius: 20px; font-size: 1.1rem; font-weight: bold; border: 2px solid white; }
.collection-title { font-family: 'Fredoka One', cursive; font-size: 3rem; text-align: center; color: #333; margin: 3rem 0 2rem; }
.quotes-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem; }
.quote-mini-card { background: white; border-radius: 20px; padding: 2rem; box-shadow: 0 8px 25px rgba(0,0,0,0.12); border: 4px solid #4ecdc4; transition: all 0.3s ease; }
.quote-mini-card:hover { transform: translateY(-10px); }
.quote-mini-text { font-size: 1.3rem; line-height: 1.7; color: #555; font-style: italic; margin-bottom: 1rem; }
.quote-mini-author { font-size: 1.1rem; color: #667eea; font-weight: bold; text-align: right; }
@keyframes floatUp { to { transform: translateY(-300px); opacity: 0; } }
@keyframes rainbowShift { 0%, 100% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } }
</style>
{% endblock %}

