{% extends "base.html" %}
{% block title %}NASA Mars Rover Photos{% endblock %}
{% block content %}
<div class="mars-page-mega">
    <div class="mars-hero">
        <a href="/api-explorer" class="mars-back-btn">‚¨ÖÔ∏è All APIs</a>
        <div class="mars-mascot">üî¥</div>
        <h1 class="mars-title-mega">NASA MARS ROVERS</h1>
        <p class="mars-subtitle">Photos from Mars Surface! üöÄ</p>
    </div>
    <div class="mars-controls-section">
        <h2>üî¥ Select Rover & Sol</h2>
        <select id="rover" class="mars-select">
            <option value="curiosity">Curiosity</option>
            <option value="perseverance">Perseverance</option>
            <option value="opportunity">Opportunity</option>
            <option value="spirit">Spirit</option>
        </select>
        <input type="number" id="sol" value="1000" class="mars-input">
        <button onclick="loadPhotos()" class="mars-btn">GET PHOTOS!</button>
        <div id="photos" class="mars-photos-grid"></div>
    </div>
</div>
<script>
async function loadPhotos() {
    const rover = document.getElementById('rover').value;
    const sol = document.getElementById('sol').value;
    const container = document.getElementById('photos');
    container.innerHTML = '<div class="loading">üî¥ Loading Mars photos...</div>';
    try {
        const response = await fetch(`https://api.nasa.gov/mars-photos/api/v1/rovers/${rover}/photos?sol=${sol}&api_key=DEMO_KEY`);
        const data = await response.json();
        if (data.photos && data.photos.length > 0) {
            container.innerHTML = data.photos.slice(0, 12).map(p => `
                <div class="mars-photo-card">
                    <img src="${p.img_src}" alt="Mars" class="mars-img">
                    <p>${p.camera.full_name}</p>
                    <p>üìÖ ${p.earth_date}</p>
                </div>
            `).join('');
        } else {
            container.innerHTML = '<div class="no-results">No photos for this Sol!</div>';
        }
    } catch (e) {
        container.innerHTML = '<div class="error">Error loading photos!</div>';
    }
}
document.addEventListener('DOMContentLoaded', () => setTimeout(loadPhotos, 500));
</script>
<style>
.mars-page-mega { min-height: 100vh; background: linear-gradient(135deg, #b91d1d 0%, #1a0000 100%); color: white; }
.mars-hero { padding: 4rem 2rem; text-align: center; }
.mars-mascot { font-size: 14rem; animation: bounce 2s ease-in-out infinite; }
.mars-title-mega { font-family: 'Fredoka One', cursive; font-size: 6rem; color: white; text-shadow: 6px 6px 20px rgba(0,0,0,0.5); margin: 2rem 0; }
.mars-controls-section { max-width: 1400px; margin: 0 auto; padding: 2rem; }
.mars-controls-section h2 { font-family: 'Fredoka One', cursive; font-size: 4rem; text-align: center; margin-bottom: 2rem; }
.mars-select, .mars-input { padding: 1.5rem; border: 4px solid white; border-radius: 25px; font-size: 1.5rem; margin: 0.5rem; }
.mars-btn { background: linear-gradient(45deg, #ff6b6b, #feca57); border: none; color: white; padding: 1.5rem 3rem; border-radius: 30px; font-size: 1.5rem; font-weight: bold; cursor: pointer; }
.mars-photos-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem; margin-top: 2rem; }
.mars-photo-card { background: rgba(255,255,255,0.1); border-radius: 20px; padding: 1.5rem; }
.mars-img { width: 100%; height: 250px; object-fit: cover; border-radius: 15px; }
</style>
{% endblock %}

